// how to convert 2D mouse coordinates into 3D selection

    var elem = renderer.domElement,
        boundingRect = elem.getBoundingClientRect(),
        x = (event.clientX - boundingRect.left) * (elem.width / boundingRect.width),
        y = (event.clientY - boundingRect.top) * (elem.height / boundingRect.height);

    var vector = new THREE.Vector3(
        ( x / WIDTH ) * 2 - 1,
        - ( y / HEIGHT ) * 2 + 1,
        0.5
    );

    projector.unprojectVector( vector, camera );
    var ray = new THREE.Ray( camera.position, vector.subSelf( camera.position ).normalize() );
    var intersects = ray.intersectObjects( scene.children );
